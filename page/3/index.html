<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/page/3/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/page/3/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Hexo</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hexo</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/01/06/26%E3%80%81%E7%BA%BF%E7%A8%8B%E6%B1%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/01/06/26%E3%80%81%E7%BA%BF%E7%A8%8B%E6%B1%A0/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-06 22:13:22" itemprop="dateCreated datePublished" datetime="2021-01-06T22:13:22+08:00">2021-01-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-04-05 19:13:34" itemprop="dateModified" datetime="2020-04-05T19:13:34+08:00">2020-04-05</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="26、线程池"><a href="#26、线程池" class="headerlink" title="26、线程池"></a>26、线程池</h1><hr>
<h1 id="1、概述"><a href="#1、概述" class="headerlink" title="1、概述"></a>1、概述</h1><p>多线程并发时，频繁的创建线程和销毁线程会降低系统效率</p>
<p>线程池可以可以使线程执行完不销毁，继续执行别的任务</p>
<p>线程池是一个容器，可以使用集合</p>
<p>最好使用<code>LinkedList&lt;Thread&gt;集合</code>(可以用别的)</p>
<h1 id="2、实现思路"><a href="#2、实现思路" class="headerlink" title="2、实现思路"></a>2、实现思路</h1><p>但程序第一次启动时，创建多个线程保存到集合中，当我们要使用线程时，可以从集合中取出来使用</p>
<p>使用<code>remove</code>直接移除，因为线程只能被一个任务使用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Thread t = linked.removeFirst();</span><br></pre></td></tr></table></figure>
<p>使用完后需要归还</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">list.add(T);</span><br><span class="line">linked.addLast(T);</span><br></pre></td></tr></table></figure>
<p><strong>JDK1.5之后，JDK中提供了线程池</strong></p>
<h1 id="3、常用方法"><a href="#3、常用方法" class="headerlink" title="3、常用方法"></a>3、常用方法</h1><p><code>java.util.concurrent.Executors</code>:线程池的工厂类，用来生成线程池</p>
<p>Executors类中的静态方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> ExecutorService <span class="title">newFixedThreadPool</span><span class="params">(<span class="keyword">int</span> nThread)</span>创建一个有指定数量线程的线程池</span></span><br></pre></td></tr></table></figure>
<p><strong>参数</strong>：线程池中包含线程的个数</p>
<p><strong>返回值</strong>：ExecutorService接口，返回的是ExecutorService接口的实现类对象，我们可以用ExecutorService接口接收（面向接口编程）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Future&lt;？&gt; submit(Runnable task)提交一个 Runnable 任务用于执行</span><br></pre></td></tr></table></figure>
<p>提交一个Runnable任务用于执行</p>
<h1 id="4、使用步骤"><a href="#4、使用步骤" class="headerlink" title="4、使用步骤"></a>4、使用步骤</h1><ol>
<li>使用工厂类Executors里的静态方法newFixedThreadPool生成一个指定线程数量的线程池</li>
<li>创建一个类，实现runnable接口，重写run方法，设置线程任务</li>
<li>调用ExecutorsService中的submit方法，传递线程任务，开启线程，执行run</li>
<li>使用shutdown方法关闭（销毁）线程池，<strong>不建议执行</strong> </li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/01/06/25%E3%80%81%E7%AD%89%E5%BE%85%E5%94%A4%E9%86%92/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/01/06/25%E3%80%81%E7%AD%89%E5%BE%85%E5%94%A4%E9%86%92/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-06 22:13:22" itemprop="dateCreated datePublished" datetime="2021-01-06T22:13:22+08:00">2021-01-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-04-05 19:13:19" itemprop="dateModified" datetime="2020-04-05T19:13:19+08:00">2020-04-05</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="25、等待唤醒"><a href="#25、等待唤醒" class="headerlink" title="25、等待唤醒"></a>25、等待唤醒</h1><hr>
<h1 id="1、线程状态"><a href="#1、线程状态" class="headerlink" title="1、线程状态"></a>1、线程状态</h1><p>计时等待状态</p>
<p>锁阻塞状态</p>
<p><strong>无限等待状态</strong>(调用wait方法等待，等notify方法唤醒)</p>
<h1 id="2、睡眠和唤醒的代码实现"><a href="#2、睡眠和唤醒的代码实现" class="headerlink" title="2、睡眠和唤醒的代码实现"></a>2、睡眠和唤醒的代码实现</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 等待唤醒机制：线程之间的通信</span></span><br><span class="line"><span class="comment"> *      模拟顾客和老板之间的交易过程</span></span><br><span class="line"><span class="comment"> *      创建一个顾客线程，告知老板要的包子种类，然后等待唤醒</span></span><br><span class="line"><span class="comment"> *      老板花五秒完成</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *注意：</span></span><br><span class="line"><span class="comment"> *      顾客和老板线程必须使用同步代码块，保证等待和唤醒只有一个执行</span></span><br><span class="line"><span class="comment"> *      同步用的锁对象必须唯一</span></span><br><span class="line"><span class="comment"> *      只有锁对象才能调用wait和notify方法</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *      void wait(); 等待</span></span><br><span class="line"><span class="comment"> *      void notify(); 唤醒对象监视器上等待的某个线程，会继续执行wait之后的代码</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>
<p>具体代码如下</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo1WaitAndNotify</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//创建锁对象</span></span><br><span class="line">        Object obj = <span class="keyword">new</span> Object();</span><br><span class="line">        <span class="comment">//使用匿名对象的方式创建顾客线程</span></span><br><span class="line">        <span class="keyword">new</span> Thread()&#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="comment">//保证等待和唤醒只能有一个执行，需要同步</span></span><br><span class="line">                <span class="keyword">synchronized</span> (obj)&#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;告知要求&quot;</span>);</span><br><span class="line">                    <span class="comment">//调用wait，进入等待,wait有异常，要使用trycatch</span></span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        obj.wait();</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                    System.out.println(<span class="string">&quot;唤醒完成&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;.start();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建老板线程</span></span><br><span class="line">        <span class="keyword">new</span> Thread()&#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="comment">//睡5秒</span></span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">5000</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">synchronized</span> (obj)&#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;老板五秒完成，告知顾客&quot;</span>);</span><br><span class="line">                    <span class="comment">//唤醒顾客线程</span></span><br><span class="line">                    obj.notify();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h1 id="3、线程通信机制"><a href="#3、线程通信机制" class="headerlink" title="3、线程通信机制"></a>3、线程通信机制</h1><p><strong>概念</strong>：多个线程处理同一资源，但是操作不同。此时需要线程间的通信来确定执行的顺序</p>
<p><strong>意义</strong>：多线程并发时，CPU是随机切换进程的，当我们需要多个线程共同完成一件任务且需要各线程有规律执行时，就需要线程通信</p>
<h1 id="4、等待与唤醒机制"><a href="#4、等待与唤醒机制" class="headerlink" title="4、等待与唤醒机制"></a>4、等待与唤醒机制</h1><p>wait和notify要由同一个锁对象调用</p>
<p>wait和notify必须在同步代码块或同步方法中使用</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/01/06/24%E3%80%81java%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/01/06/24%E3%80%81java%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-06 22:13:22" itemprop="dateCreated datePublished" datetime="2021-01-06T22:13:22+08:00">2021-01-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-30 11:21:15" itemprop="dateModified" datetime="2020-03-30T11:21:15+08:00">2020-03-30</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="24、线程安全"><a href="#24、线程安全" class="headerlink" title="24、线程安全"></a>24、线程安全</h1><hr>
<h1 id="1、线程安全问题概述"><a href="#1、线程安全问题概述" class="headerlink" title="1、线程安全问题概述"></a>1、线程安全问题概述</h1><p>多个线程在调用同一共享资源时可能会出现访问到不存在的数据或重复访问某个数据的问题</p>
<h1 id="2、解决方法一、同步代码块"><a href="#2、解决方法一、同步代码块" class="headerlink" title="2、解决方法一、同步代码块"></a>2、解决方法一、同步代码块</h1><p>格式</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">synchronized</span>(锁对象)&#123;</span><br><span class="line">	可能出问题的代码</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>锁对象可以是任意对象，需在synchronized代码块外定义，执行代码块内容时会先获取锁对象，但锁对象只有一个，后来的线程就会进入等待状态。</p>
<p>即可保证共享资源中只有一个线程在访问</p>
<h1 id="3、解决方法二、同步方法"><a href="#3、解决方法二、同步方法" class="headerlink" title="3、解决方法二、同步方法"></a>3、解决方法二、同步方法</h1><p>思路与方法一相似，只是把访问了共享数据的代码放在方法中</p>
<p>使用步骤：</p>
<ol>
<li>把访问了共享数据的代码抽取出来，放到一个方法中</li>
<li>在方法上添加修饰符：synchronized</li>
</ol>
<p>格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">修饰符 <span class="keyword">synchronized</span> 返回值 方法名()&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>注意：此方法实际也使用了锁对象，锁对象是方法调用者</p>
<h1 id="4、解决方法三、Lock锁"><a href="#4、解决方法三、Lock锁" class="headerlink" title="4、解决方法三、Lock锁"></a>4、解决方法三、Lock锁</h1><p>Lock锁比前两种更好用，使用更广泛</p>
<p>Lock接口中有两种常用方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">lock</span><span class="params">()</span></span>;<span class="comment">//获取锁</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">unlock</span><span class="params">()</span></span>;<span class="comment">//释放锁</span></span><br></pre></td></tr></table></figure>
<p>步骤</p>
<ol>
<li>在成员位置，创建lock的实现类Reentrantiock的对象</li>
<li>在出安全问题的代码前使用lock方法</li>
<li>在代码后用unlock方法</li>
</ol>
<p>示例</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Lock l = <span class="keyword">new</span> ReentrantLock(); <span class="comment">//创建锁对象</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            l.lock();<span class="comment">//获取锁</span></span><br><span class="line">            <span class="keyword">if</span> (ticket &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">//提高安全问题出现的概率，使用睡眠</span></span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">10</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">&quot;正在卖第&quot;</span> + ticket + <span class="string">&quot;张票&quot;</span>);</span><br><span class="line">                ticket--;</span><br><span class="line">            &#125;</span><br><span class="line">            l.unlock();<span class="comment">//解锁</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/01/06/23%E3%80%81%E7%BA%BF%E7%A8%8B%E5%AE%9E%E7%8E%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/01/06/23%E3%80%81%E7%BA%BF%E7%A8%8B%E5%AE%9E%E7%8E%B0/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-06 22:13:22" itemprop="dateCreated datePublished" datetime="2021-01-06T22:13:22+08:00">2021-01-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-04-14 10:48:01" itemprop="dateModified" datetime="2020-04-14T10:48:01+08:00">2020-04-14</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="23、线程实现"><a href="#23、线程实现" class="headerlink" title="23、线程实现"></a>23、线程实现</h1><hr>
<h1 id="1、并发与并行"><a href="#1、并发与并行" class="headerlink" title="1、并发与并行"></a>1、并发与并行</h1><p>并发：指多个事件在同一个时间段内发生（交替）</p>
<p>并行：值多个时间在同一时刻发生（同时）</p>
<h1 id="2、进程概念"><a href="#2、进程概念" class="headerlink" title="2、进程概念"></a>2、进程概念</h1><p>进入到内存的程序叫进程</p>
<h1 id="3、线程概念"><a href="#3、线程概念" class="headerlink" title="3、线程概念"></a>3、线程概念</h1><p>线程属于进程，是进程的一个执行单元</p>
<h1 id="4、线程调度"><a href="#4、线程调度" class="headerlink" title="4、线程调度"></a>4、线程调度</h1><p>1、分时调度</p>
<p>2、抢占式调度(java使用此种)</p>
<h1 id="5、主线程"><a href="#5、主线程" class="headerlink" title="5、主线程"></a>5、主线程</h1><p>主线程即main方法的线程</p>
<p>单线程程序：java程序中只有一个线程</p>
<p>执行从main开始的程序，从上到下依次执行</p>
<h1 id="6、创建多线程，使用Thread的子类"><a href="#6、创建多线程，使用Thread的子类" class="headerlink" title="6、创建多线程，使用Thread的子类"></a>6、创建多线程，使用Thread的子类</h1><p>实现步骤：</p>
<ol>
<li>创建一个Thread类的子类</li>
<li>在Thread类的子类中重写run方法，设置线程任务</li>
<li>创建Thread类的子类对象</li>
<li>调用Thread类中的start方法，开启新的线程，执行run方法</li>
</ol>
<p>结果实两个线程并发执行，当前线程（main）和另一个线程（run）</p>
<p><strong>不能多次启动一个线程，特别是线程结束都再次启动</strong></p>
<h1 id="7、获取线程名称"><a href="#7、获取线程名称" class="headerlink" title="7、获取线程名称"></a>7、获取线程名称</h1><p>使用Thread中的静态方法currentThread()</p>
<h1 id="8、线程休眠"><a href="#8、线程休眠" class="headerlink" title="8、线程休眠"></a>8、线程休眠</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sleep</span><span class="params">(Long mills)</span><span class="comment">//当前线程暂停指定的毫秒数</span></span></span><br></pre></td></tr></table></figure>
<h1 id="9、创建多线程，实现runnable接口"><a href="#9、创建多线程，实现runnable接口" class="headerlink" title="9、创建多线程，实现runnable接口"></a>9、创建多线程，实现runnable接口</h1><p>runnable接口应该由那些打算通过某一线程执行器实例化的类来实现</p>
<p>实现步骤：</p>
<ol>
<li>创建一个runnable接口的实现类</li>
<li>在实现类中重写runnable接口的方法，设置线程任务</li>
<li>创建一个runnable接口的实现类对象</li>
<li>创建Thread类对象，构造方法中传递runnable接口的实现类对象</li>
<li>调用Thread类中的start方法，开启新的线程执行run方法</li>
</ol>
<h1 id="10、匿名内部类方式实现线程的创建"><a href="#10、匿名内部类方式实现线程的创建" class="headerlink" title="10、匿名内部类方式实现线程的创建"></a>10、匿名内部类方式实现线程的创建</h1><p>作用：简化代码</p>
<p>​        把子类继承父类，重写父类的方法，创建子类对象合一步完成</p>
<p>​        把实现类实现接口，重写接口中的方法，创建实现类对象合成一步完成</p>
<p>​        匿名内部类的最终产物：子类/实现类对象，而这个类没有名字</p>
<p><strong>格式</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> 父类/接口()&#123;</span><br><span class="line">	重写父类/接口的方法</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/01/06/22%E3%80%81%E5%BC%82%E5%B8%B8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/01/06/22%E3%80%81%E5%BC%82%E5%B8%B8/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-06 22:13:22" itemprop="dateCreated datePublished" datetime="2021-01-06T22:13:22+08:00">2021-01-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-27 10:04:21" itemprop="dateModified" datetime="2020-03-27T10:04:21+08:00">2020-03-27</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="22、异常"><a href="#22、异常" class="headerlink" title="22、异常"></a>22、异常</h1><hr>
<h1 id="1、异常概念"><a href="#1、异常概念" class="headerlink" title="1、异常概念"></a>1、异常概念</h1><p>指程序在执行过程中出现的非正常情况，会导致JVM的非正常停止，</p>
<p>异常本来是一个类，产生异常就是创建异常对象并抛出。</p>
<h1 id="2、异常体系"><a href="#2、异常体系" class="headerlink" title="2、异常体系"></a>2、异常体系</h1><p>最高父类throwable，子类error和exception</p>
<h1 id="3、异常分类"><a href="#3、异常分类" class="headerlink" title="3、异常分类"></a>3、异常分类</h1><p>运行期异常、编译期异常和错误</p>
<p>运行期异常可以不处理，默认让JVM终止程序</p>
<p>编译期异常必须处理</p>
<p>错误无法解决，必须修改代码</p>
<h1 id="4、throw-throws关键字"><a href="#4、throw-throws关键字" class="headerlink" title="4、throw/throws关键字"></a>4、throw/throws关键字</h1><p>异常处理常用到5个关键字</p>
<p>try</p>
<p>catch</p>
<p>finally</p>
<p>throw</p>
<p>throws</p>
<p>其中，throw关键字用于抛出异常（在方法内使用）</p>
<p>即方法内某语句可能异常时使用，可以把异常抛出给方法</p>
<p>方法在定义时要使用throws关键字接受方法内抛出的异常并再次抛出给方法调用者。</p>
<p>同理，如果是多级调用，每一级都要使用throws关键字接受并上抛（或者try/catch处理），最终抛出给main方法，在由main方法抛给jvm，最后中断程序。</p>
<p>注意：如果throw声明的方式运行期异常，可以不用throws上抛</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getElement</span><span class="params">(<span class="keyword">int</span>[] arr,<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr == <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException(<span class="string">&quot;传递的数组为空&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(index&lt;<span class="number">0</span> || index&gt;arr.length-<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArrayIndexOutOfBoundsException(<span class="string">&quot;索引越界&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> ele = arr[index];</span><br><span class="line">        <span class="keyword">return</span> ele;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>如上，是执行参数合法性验证的代码，如果参数不符合要求，就会抛出空指针异常，但空指针异常时运行期异常，因此方法中不用使用throws关键字</p>
<h1 id="5、Object非空判断"><a href="#5、Object非空判断" class="headerlink" title="5、Object非空判断"></a>5、Object非空判断</h1><p>Object类中有一个方法可以很好的完成对参数是否为空的判断</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">T <span class="title">rquireNonNull</span><span class="params">(T obj)</span><span class="comment">//查看指定引用对象是不是null</span></span></span><br><span class="line"><span class="function"><span class="comment">//可以传递第二个参数，来实现异常触发时打印自定义的消息</span></span></span><br></pre></td></tr></table></figure>
<p>示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">method</span><span class="params">(Object obj)</span></span>&#123;</span><br><span class="line">        <span class="comment">//对传递进来的参数进行合法性判断，判断是否为null</span></span><br><span class="line"><span class="comment">//        if(obj==null)&#123;</span></span><br><span class="line"><span class="comment">//            throw new NullPointerException(&quot;空指针&quot;);</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line">        <span class="comment">//Objects.requireNonNull(obj);</span></span><br><span class="line">        Objects.requireNonNull(obj,<span class="string">&quot;空指针&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>注释中的代码与第八行的代码等效</p>
<h1 id="6、异常处理的第一种方法，throws"><a href="#6、异常处理的第一种方法，throws" class="headerlink" title="6、异常处理的第一种方法，throws"></a>6、异常处理的第一种方法，throws</h1><p>前文说过，throws可以把异常交给调用者，这即是异常处理的第一种方法，交给别人处理</p>
<p>格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">修饰符 返回值 方法名(形参表) <span class="keyword">throws</span> XXXException&#123;</span><br><span class="line">	<span class="keyword">throw</span> <span class="keyword">new</span> XXXException(<span class="string">&quot;触发时四处的字符串&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>即方法中声明一个Exception异常，方法声明是就要加上这个异常（方法内声明多个，throws也要声明多个）</p>
<p>注意：</p>
<p>​        1、声明的对象必须是Exception或其子类</p>
<p>​        2、如果抛出的多个异常中有继承关系，声明父类即可</p>
<p>​        3、调用了声明抛出异常的方法就必须处理</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">reader</span><span class="params">(String filename)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (!filename.equals(<span class="string">&quot;c:\\\\a.txt&quot;</span>))&#123;</span><br><span class="line">           <span class="keyword">throw</span> <span class="keyword">new</span> FileNotFoundException(<span class="string">&quot;找不到文件&quot;</span>);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">/**</span></span><br><span class="line"><span class="comment">        * 如果不是.txt结尾</span></span><br><span class="line"><span class="comment">        * 那么抛出IO异常对象</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">       <span class="keyword">if</span> (!filename.endsWith(<span class="string">&quot;.txt&quot;</span>))&#123;</span><br><span class="line">           <span class="keyword">throw</span> <span class="keyword">new</span> IOException(<span class="string">&quot;文件类型错误&quot;</span>);</span><br><span class="line">       &#125;</span><br><span class="line">       System.out.println(<span class="string">&quot;没有问题&quot;</span>);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<p>注意：main方法调用时也要处理异常，throws抛给虚拟机或者try/catch处理</p>
<h1 id="7、异常处理的第二种方法、try-catch"><a href="#7、异常处理的第二种方法、try-catch" class="headerlink" title="7、异常处理的第二种方法、try/catch"></a>7、异常处理的第二种方法、try/catch</h1><p>try/catch可以捕获并处理异常</p>
<p>格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">	<span class="comment">//可能出现异常的代码</span></span><br><span class="line">&#125;<span class="keyword">catch</span>(定义代码变量 用来接收异常)&#123;</span><br><span class="line">	<span class="comment">//处理异常的代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>try中代码如果出现异常就会执行catch中的代码并继续执行程序。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">                reader(<span class="string">&quot;d:\\a.tx&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (IOException e)&#123;<span class="comment">//抛出什么异常，就定义什么异常</span></span><br><span class="line">            System.out.println(e);</span><br><span class="line">        &#125;</span><br><span class="line">            &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">reader</span><span class="params">(String filename)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!filename.endsWith(<span class="string">&quot;.txt&quot;</span>))&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IOException(<span class="string">&quot;找不到文件&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;没有问题&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>上面的代码，在reader方法中使用throws抛出方法，在main方法中捕获并处理，处理方法是打印该异常的信息</p>
<h1 id="8、throwable类中的三种处理方法"><a href="#8、throwable类中的三种处理方法" class="headerlink" title="8、throwable类中的三种处理方法"></a>8、throwable类中的三种处理方法</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">         * throwable类中定义了三个处理异常的方法</span></span><br><span class="line"><span class="comment">         * String toString() 返回此throwable的简短描述</span></span><br><span class="line"><span class="comment">         * String getMessage() 返回此throwable的详细消息字符串</span></span><br><span class="line"><span class="comment">         * String printStackTrace() JVM打印异常对象调用此方法，信息最全面</span></span><br><span class="line"><span class="comment">         *</span></span><br><span class="line"><span class="comment">         */</span></span><br></pre></td></tr></table></figure>
<h1 id="9、finally关键字"><a href="#9、finally关键字" class="headerlink" title="9、finally关键字"></a>9、finally关键字</h1><p>finally关键字和try/catch一起使用，finally代码块中的代码无论异常时候发生都会被执行。</p>
<p>格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">         可能异常的代码</span><br><span class="line">      &#125;<span class="keyword">catch</span>&#123;</span><br><span class="line">          异常处理</span><br><span class="line">      &#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">          无论是否出现异常，都会执行</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure>
<p>注意：</p>
<p>​    1、finally关键字不能单独用</p>
<p>​    2、finally一般用于资源回收</p>
<p>​    <strong>3、别再finally里写return，否则返回值就是finally里的内容</strong></p>
<h1 id="10、多异常捕获与处理"><a href="#10、多异常捕获与处理" class="headerlink" title="10、多异常捕获与处理"></a>10、多异常捕获与处理</h1><p>有三种处理思路</p>
<h2 id="10-1、多个异常分别处理"><a href="#10-1、多个异常分别处理" class="headerlink" title="10.1、多个异常分别处理"></a>10.1、多个异常分别处理</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">   	<span class="keyword">int</span>[] arr = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line">   	System.out.println(arr[<span class="number">3</span>]);</span><br><span class="line">&#125;<span class="keyword">catch</span> (ArrayIndexOutOfBoundsException e)&#123;</span><br><span class="line">    System.out.println(e);</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure>
<p>即一个一个捕获和处理异常</p>
<h2 id="10-2、多异常一次捕获，多次处理"><a href="#10-2、多异常一次捕获，多次处理" class="headerlink" title="10.2、多异常一次捕获，多次处理"></a>10.2、多异常一次捕获，多次处理</h2><p>即一次捕获所有异常，再挨个处理</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">		<span class="keyword">int</span>[] arr = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line">		System.out.println(arr[<span class="number">3</span>]);</span><br><span class="line">		List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">		list.add(<span class="number">1</span>);</span><br><span class="line">		list.add(<span class="number">2</span>);</span><br><span class="line">		list.add(<span class="number">3</span>);</span><br><span class="line">		System.out.println(list.get(<span class="number">3</span>));</span><br><span class="line">	&#125;<span class="keyword">catch</span> (ArrayIndexOutOfBoundsException e)&#123;</span><br><span class="line">		System.out.println(e);</span><br><span class="line">	&#125;<span class="keyword">catch</span> (IndexOutOfBoundsException e)&#123;</span><br><span class="line">		System.out.println(e);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>try中代码会产生两个异常，分别用两个catch处理</p>
<p>注意：多个catch中的异常对象如果有继承关系，子类一定要写上面</p>
<h2 id="10-3、多异常一次捕获一次处理"><a href="#10-3、多异常一次捕获一次处理" class="headerlink" title="10.3、多异常一次捕获一次处理"></a>10.3、多异常一次捕获一次处理</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">           <span class="keyword">int</span>[] arr = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line">           System.out.println(arr[<span class="number">3</span>]);</span><br><span class="line">           List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">           list.add(<span class="number">1</span>);</span><br><span class="line">           list.add(<span class="number">2</span>);</span><br><span class="line">           list.add(<span class="number">3</span>);</span><br><span class="line">           System.out.println(list.get(<span class="number">3</span>));</span><br><span class="line">       &#125;<span class="keyword">catch</span> (IndexOutOfBoundsException e)&#123;</span><br><span class="line">           System.out.println(e);</span><br><span class="line">       &#125;</span><br><span class="line">       System.out.println(<span class="string">&quot;后续代码&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>一次捕获所有异常，再一次全部处理</p>
<h1 id="11、父子类的异常"><a href="#11、父子类的异常" class="headerlink" title="11、父子类的异常"></a>11、父子类的异常</h1><p>如果父类抛出了多个异常，子类重写父类方法时，抛出和父类相同的异常或是父类异常的子类或者不抛出<br>父类方法没有抛出异常，子类重写父类该方法时也不可能抛出异常，此时子类产生该异常，只能捕获，不能声明抛出</p>
<p>即父类的异常什么样，子类的异常就声明样</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ZiFuExceptionDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show01</span><span class="params">()</span> <span class="keyword">throws</span> NullPointerException,ClassCastException</span>&#123; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show02</span><span class="params">()</span> <span class="keyword">throws</span> IndexOutOfBoundsException</span>&#123; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show03</span><span class="params">()</span> <span class="keyword">throws</span> IndexOutOfBoundsException</span>&#123; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show04</span><span class="params">()</span></span>&#123; &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Zi</span> <span class="keyword">extends</span> <span class="title">ZiFuExceptionDemo</span></span>&#123;</span><br><span class="line">    <span class="comment">//子类重写父类方法时，抛出和父类相同的异常</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show01</span><span class="params">()</span> <span class="keyword">throws</span> NullPointerException,ClassCastException</span>&#123; &#125;</span><br><span class="line">    <span class="comment">//子类重写父类方法时，抛出父类异常的子类</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show02</span><span class="params">()</span> <span class="keyword">throws</span> ArrayIndexOutOfBoundsException</span>&#123;&#125;</span><br><span class="line">    <span class="comment">//子类重写父类方法时，可以不抛出</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show03</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="comment">//父类没抛异常，子类也不能抛，只能捕获</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show04</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="12、自定义异常"><a href="#12、自定义异常" class="headerlink" title="12、自定义异常"></a>12、自定义异常</h1><p>自定义异常类供某些情况下使用</p>
<p>格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">XXXException</span> <span class="keyword">extends</span> <span class="title">Exception</span>/<span class="title">RuntimeException</span></span>&#123;</span><br><span class="line">	添加一个空参构造</span><br><span class="line">	添加一个带异常信息的构造</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>注意：</p>
<p>​        1、自定义异常类一般以Exception结尾，说明该类是异常类</p>
<p>​        2、必须继承Exception或RuntimeException</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RegisterExceptionDemo9</span> <span class="keyword">extends</span> <span class="title">Exception</span></span>&#123;</span><br><span class="line">    <span class="comment">//空参构造</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">RegisterExceptionDemo9</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 添加一个带异常信息的构造方法</span></span><br><span class="line"><span class="comment">     * 查看源码发现，所有异常类都有一个带异常信息的构造，方法内部会调用父类带异常信息的构造，让父类处理</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">RegisterExceptionDemo9</span><span class="params">(String message)</span></span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/01/06/21%E3%80%81map%E9%9B%86%E5%90%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/01/06/21%E3%80%81map%E9%9B%86%E5%90%88/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-06 22:13:22" itemprop="dateCreated datePublished" datetime="2021-01-06T22:13:22+08:00">2021-01-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-27 10:04:56" itemprop="dateModified" datetime="2020-03-27T10:04:56+08:00">2020-03-27</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="21、map集合"><a href="#21、map集合" class="headerlink" title="21、map集合"></a>21、map集合</h1><hr>
<h1 id="1、概述"><a href="#1、概述" class="headerlink" title="1、概述"></a>1、概述</h1><p>双列集合，是一个接口，有两个泛型，将键映射到值</p>
<p>特点：</p>
<p>​    1、双列集合，一个元素包含两个值（键值）</p>
<p>​    2、Map集合中的元素，键和值的数据类型可以相同也可以不同</p>
<p>​    3、K不允许重复，Key与value一一对应</p>
<h1 id="2、常用子类"><a href="#2、常用子类" class="headerlink" title="2、常用子类"></a>2、常用子类</h1><h2 id="2-1、HashMap集合"><a href="#2-1、HashMap集合" class="headerlink" title="2.1、HashMap集合"></a>2.1、HashMap集合</h2><p>实现了Map接口</p>
<p>特点：</p>
<p>​    底层是哈希表，查询速度快</p>
<p>​    是无序集合</p>
<h2 id="2-2、LinkedHashMap"><a href="#2-2、LinkedHashMap" class="headerlink" title="2.2、LinkedHashMap"></a>2.2、LinkedHashMap</h2><p>继承了HashMap集合</p>
<p>特点：</p>
<p>​    底层是哈希表加链表（保证迭代顺序）</p>
<p>​    是有序集合</p>
<h1 id="3、Map集合常用方法"><a href="#3、Map集合常用方法" class="headerlink" title="3、Map集合常用方法"></a>3、Map集合常用方法</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">put</span><span class="params">(K key,V value)</span></span>;<span class="comment">//把指定的键值对添加到Map集合中</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">remove</span><span class="params">(Object Key)</span></span>;<span class="comment">//把指定的键所对应的的键值对元素，在Map中删除，返回被删元素的值</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">get</span><span class="params">(Object Key)</span></span>;<span class="comment">//根据指定的键，在Map集合中获取相应的值</span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">containsKey</span><span class="params">(Object Key)</span></span>;<span class="comment">//判断是否有指定值</span></span><br></pre></td></tr></table></figure>
<h1 id="4、遍历Map集合"><a href="#4、遍历Map集合" class="headerlink" title="4、遍历Map集合"></a>4、遍历Map集合</h1><p>使用迭代器或增强for</p>
<p>步骤：</p>
<p>​    1、使用map集合中的方法keySet()，把map中所有key取出，存储在一个set集合中</p>
<p>​    2、遍历Set集合，获取map集合中的每一个key</p>
<p>​    3、通过map集合中的方法get(key)，通过key找到值</p>
<p>示例:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//使用迭代器</span></span><br><span class="line">Set&lt;String&gt; set = map.keySet();</span><br><span class="line">        Iterator&lt;String&gt; it = set.iterator();</span><br><span class="line">        <span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">            String key = it.next();</span><br><span class="line">            Integer value = map.get(key);</span><br><span class="line">            System.out.println(value);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//使用增强for</span></span><br><span class="line">Set&lt;String&gt; set = map.keySet();</span><br><span class="line"><span class="keyword">for</span> (String s : set) &#123;<span class="comment">//s中是键</span></span><br><span class="line">            Integer value = map.get(s);</span><br><span class="line">            System.out.println(s+value);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>


<p>使用entry对象遍历</p>
<p><strong>方法</strong>:Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet()返回此映射中包含的映射关系的Set视图</p>
<p><strong>实现步骤</strong>：</p>
<p>​    1、使用Map集合中的方法entrySet()，把map集合中多个entry对象取出，存到一个Set集合中</p>
<p>​    2、遍历Set集合，获取每一个Entry对象</p>
<p>​    3、使用entry对象中的方法getKey()和getvalue()获取键和值</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Set&lt;Map.Entry&lt;String, Integer&gt;&gt; set = map.entrySet();</span><br><span class="line">        <span class="comment">//使用迭代器</span></span><br><span class="line">        Iterator&lt;Map.Entry&lt;String, Integer&gt;&gt; it = set.iterator();</span><br><span class="line">        <span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">            Map.Entry&lt;String, Integer&gt; entry = it.next();</span><br><span class="line">            String key = entry.getKey();</span><br><span class="line">            Integer value = entry.getValue();</span><br><span class="line">            System.out.println(key+value);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Set&lt;Map.Entry&lt;String, Integer&gt;&gt; set = map.entrySet();</span><br><span class="line"> <span class="keyword">for</span> (Map.Entry&lt;String,Integer&gt; entry:set)&#123;</span><br><span class="line">            String key = entry.getKey();</span><br><span class="line">            Integer value = entry.getValue();</span><br><span class="line">            System.out.println(key+value);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<h1 id="5、HashMap存储自定义类型"><a href="#5、HashMap存储自定义类型" class="headerlink" title="5、HashMap存储自定义类型"></a>5、HashMap存储自定义类型</h1><p>必须重写HashCode和equals方法</p>
<h1 id="6、LinkedHashMap"><a href="#6、LinkedHashMap" class="headerlink" title="6、LinkedHashMap"></a>6、LinkedHashMap</h1><p>Map接口的哈希表和链表实现类，有序集合</p>
<h1 id="7、HashTable"><a href="#7、HashTable" class="headerlink" title="7、HashTable"></a>7、HashTable</h1><p>Map接口的实现类，底层也是哈希表，<strong>已被取代</strong>，不允许为空，单线程，速度慢</p>
<p>其子类Property还在使用</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/01/06/20%E3%80%81Collections%E5%B7%A5%E5%85%B7%E7%B1%BB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/01/06/20%E3%80%81Collections%E5%B7%A5%E5%85%B7%E7%B1%BB/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-06 22:13:22" itemprop="dateCreated datePublished" datetime="2021-01-06T22:13:22+08:00">2021-01-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-05-09 23:28:39" itemprop="dateModified" datetime="2020-05-09T23:28:39+08:00">2020-05-09</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="20、Collections工具类"><a href="#20、Collections工具类" class="headerlink" title="20、Collections工具类"></a>20、Collections工具类</h1><hr>
<h1 id="1、Collections是一个操作数组的工具类"><a href="#1、Collections是一个操作数组的工具类" class="headerlink" title="1、Collections是一个操作数组的工具类"></a>1、Collections是一个操作数组的工具类</h1><h1 id="2、addALL方法"><a href="#2、addALL方法" class="headerlink" title="2、addALL方法"></a>2、addALL方法</h1><p>同时添加多个元素到集合中，静态方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Collections.addAll(list,<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>,<span class="string">&quot;d&quot;</span>,<span class="string">&quot;e&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>第一个参数为列表，后面的参数是要添加的元素</p>
<h1 id="3、shuffle方法"><a href="#3、shuffle方法" class="headerlink" title="3、shuffle方法"></a>3、shuffle方法</h1><p>打乱集合的顺序</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Collections.shuffle(list);</span><br></pre></td></tr></table></figure>
<p>参数方式集合的名字</p>
<h1 id="4、sort方法"><a href="#4、sort方法" class="headerlink" title="4、sort方法"></a>4、sort方法</h1><p>把元素按默认规则（升序）排序</p>
<p>如果要排列自定义类型，需实现Comparable接口，重写接口中的compareTo方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Collections.sort(list3);</span><br></pre></td></tr></table></figure>


<p>或者直接传递构造器进行比较，</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Collections.sort(list4, <span class="keyword">new</span> Comparator&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Integer o1, Integer o2)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> o1-o2;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>
<p>（较复杂）</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/01/06/19%E3%80%81set%E9%9B%86%E5%90%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/01/06/19%E3%80%81set%E9%9B%86%E5%90%88/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-06 22:13:22" itemprop="dateCreated datePublished" datetime="2021-01-06T22:13:22+08:00">2021-01-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-27 10:07:56" itemprop="dateModified" datetime="2020-03-27T10:07:56+08:00">2020-03-27</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="19、set集合"><a href="#19、set集合" class="headerlink" title="19、set集合"></a>19、set集合</h1><hr>
<h1 id="1、概述"><a href="#1、概述" class="headerlink" title="1、概述"></a>1、概述</h1><p>set接口是Collection下的一个子接口，不允许重复，没有索引，不能使用普通for循环遍历</p>
<h1 id="2、HashSet集合"><a href="#2、HashSet集合" class="headerlink" title="2、HashSet集合"></a>2、HashSet集合</h1><p>实现了set接口，是一个无序集合，底层是哈希表，查询速度快</p>
<h2 id="2-1、使用HashSet"><a href="#2-1、使用HashSet" class="headerlink" title="2.1、使用HashSet"></a>2.1、使用HashSet</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建对象,多态</span></span><br><span class="line">Set&lt;Integer&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line"><span class="comment">//使用add方法</span></span><br><span class="line">set.add(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>
<h1 id="3、哈希值"><a href="#3、哈希值" class="headerlink" title="3、哈希值"></a>3、哈希值</h1><p>是一个十进制的整数，由系统随机给出，代表对象的逻辑地址</p>
<p>在object类在有一个获取哈希值的方法</p>
<h1 id="4、set不允许重复的原理"><a href="#4、set不允许重复的原理" class="headerlink" title="4、set不允许重复的原理"></a>4、set不允许重复的原理</h1><p>会调用hashcode中的equals方法判断哈希值时候已经存在</p>
<h1 id="5、HashSet存储自定义类型元素"><a href="#5、HashSet存储自定义类型元素" class="headerlink" title="5、HashSet存储自定义类型元素"></a>5、HashSet存储自定义类型元素</h1><p>要先重写hashcode和equals方法，确保哈希值不会重复</p>
<h1 id="6、LinkedHashSet集合"><a href="#6、LinkedHashSet集合" class="headerlink" title="6、LinkedHashSet集合"></a>6、LinkedHashSet集合</h1><p>特点：底层是哈希表加链表，有序</p>
<h1 id="7、可变参数"><a href="#7、可变参数" class="headerlink" title="7、可变参数"></a>7、可变参数</h1><p>使用前提：方法参数类型已经确定，但个数还不确定</p>
<p>格式：修饰符 返回值类型 方法名(数据类型…变量名){}</p>
<p>原理：底层是数组</p>
<p>注意：多个参数是可变要放最后，且只能有一个</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/01/06/18%E3%80%81list%E9%9B%86%E5%90%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/01/06/18%E3%80%81list%E9%9B%86%E5%90%88/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-06 22:13:22" itemprop="dateCreated datePublished" datetime="2021-01-06T22:13:22+08:00">2021-01-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-27 10:07:19" itemprop="dateModified" datetime="2020-03-27T10:07:19+08:00">2020-03-27</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="18、list集合"><a href="#18、list集合" class="headerlink" title="18、list集合"></a>18、list集合</h1><hr>
<h1 id="1、概述"><a href="#1、概述" class="headerlink" title="1、概述"></a>1、概述</h1><p>list接口继承了Collection，</p>
<h1 id="2、特点"><a href="#2、特点" class="headerlink" title="2、特点"></a>2、特点</h1><p>1、有序集合，存储元素和取出元素的顺序是一致的</p>
<p>2、有索引</p>
<p>3、允许存储重复的元素</p>
<h1 id="3、特有方法"><a href="#3、特有方法" class="headerlink" title="3、特有方法"></a>3、特有方法</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> index, E element)</span>在列表的指定位置插入指定元素</span></span><br><span class="line"><span class="function">E <span class="title">set</span><span class="params">(<span class="keyword">int</span> index, E element)</span>用指定元素替换列表中指定位置的元素</span></span><br><span class="line"><span class="function">E <span class="title">get</span><span class="params">(<span class="keyword">int</span> index)</span>返回列表中指定位置的元素</span></span><br><span class="line"><span class="function">E <span class="title">remove</span><span class="params">(<span class="keyword">int</span> index)</span>移除列表中指定位置的元素</span></span><br></pre></td></tr></table></figure>
<h1 id="4、使用"><a href="#4、使用" class="headerlink" title="4、使用"></a>4、使用</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建对象，多态</span></span><br><span class="line">List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"><span class="comment">//使用add方法</span></span><br><span class="line">List.add(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">List.add(<span class="number">3</span>,<span class="string">&quot;b&quot;</span>);<span class="comment">//新加的元素索引为3</span></span><br><span class="line"><span class="comment">//remove方法</span></span><br><span class="line">String remove = list.remove(<span class="number">2</span>);<span class="comment">//移除索引2的元素，并存储到remove中</span></span><br><span class="line"><span class="comment">//使用set方法</span></span><br><span class="line">list.set(<span class="number">3</span>,<span class="string">&quot;A&quot;</span>);<span class="comment">//把索引为3的元素设置成A</span></span><br></pre></td></tr></table></figure>
<h1 id="5、LinkedList集合"><a href="#5、LinkedList集合" class="headerlink" title="5、LinkedList集合"></a>5、LinkedList集合</h1><p>list集合的另一个链表实现类，linkedlist的链表可以实现多线程</p>
<h2 id="5-1、特点"><a href="#5-1、特点" class="headerlink" title="5.1、特点"></a>5.1、特点</h2><p>底层是链表，查询慢，增删快，有大量操作首尾元素的方法</p>
<p>使用list集合特有的方法，不使用多态</p>
<h2 id="5-2、方法"><a href="#5-2、方法" class="headerlink" title="5.2、方法"></a>5.2、方法</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addFirst</span><span class="params">(E e)</span>将指定元素添加到开头</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addLast</span><span class="params">(E e)</span>将指定元素添加到此列表的结尾，等效于add</span></span><br><span class="line"><span class="function">E <span class="title">getFirst</span><span class="params">()</span>返回列表的第一个元素</span></span><br><span class="line"><span class="function">E <span class="title">getLast</span><span class="params">()</span>返回最后一个元素</span></span><br><span class="line"><span class="function">E <span class="title">removeFirst</span><span class="params">()</span>移除第一个元素</span></span><br><span class="line"><span class="function">E <span class="title">removeLast</span><span class="params">()</span>移除最后一个元素</span></span><br><span class="line"><span class="function">E <span class="title">pop</span><span class="params">()</span>从此列表的堆栈处弹出一个元素</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(E e)</span>将元素推入堆栈，等效于addfirst</span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span>查看列表是否为空</span></span><br></pre></td></tr></table></figure>
<h2 id="5-3、使用"><a href="#5-3、使用" class="headerlink" title="5.3、使用"></a>5.3、使用</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建对象</span></span><br><span class="line">java.util.LinkedList&lt;String&gt; linked = <span class="keyword">new</span> java.util.LinkedList&lt;&gt;();</span><br><span class="line"><span class="comment">//在开头添加</span></span><br><span class="line">linked.add(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">linked.add(<span class="string">&quot;b&quot;</span>);</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/01/06/17%E3%80%81%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/01/06/17%E3%80%81%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-06 22:13:22" itemprop="dateCreated datePublished" datetime="2021-01-06T22:13:22+08:00">2021-01-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-27 10:08:42" itemprop="dateModified" datetime="2020-03-27T10:08:42+08:00">2020-03-27</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="17、数据结构"><a href="#17、数据结构" class="headerlink" title="17、数据结构"></a>17、数据结构</h1><hr>
<h1 id="1、栈"><a href="#1、栈" class="headerlink" title="1、栈"></a>1、栈</h1><p>先进后出，后进先出。入口和出口在同一侧</p>
<h1 id="2、队列"><a href="#2、队列" class="headerlink" title="2、队列"></a>2、队列</h1><p>先进先出，入口出口不同侧，队尾进入，队首出来</p>
<h1 id="3、数组"><a href="#3、数组" class="headerlink" title="3、数组"></a>3、数组</h1><p>查询块，增删慢</p>
<p>增删必须要创建新数组</p>
<h1 id="4、链表"><a href="#4、链表" class="headerlink" title="4、链表"></a>4、链表</h1><p>查询慢，增删块</p>
<p>地址不是连续的，每次都必须从头开始查</p>
<p>链表结构增加或删除对整体结构没影响</p>
<h1 id="5、红黑树"><a href="#5、红黑树" class="headerlink" title="5、红黑树"></a>5、红黑树</h1><p>树型结构</p>
<p><strong>二叉树</strong>：每个节点的分支不超过两个，</p>
<p><strong>排序树</strong>：在二叉树的基础上，元素有大小顺序</p>
<p>左小右大</p>
<p><strong>平衡树</strong>：左右分支数量相等</p>
<p><strong>红黑树</strong>：趋近于平衡树，查询的速度很快，查询叶子节点最大次数和最小次数不超过二倍</p>
<p>约束：节点可以是红色或黑色，根节点是黑色，叶子节点(空节点)是黑色的，每个红色节点的子节点都是黑色的，任何一个节点到其每一个叶子节点的所有路径上的黑色节点相同</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">47</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
